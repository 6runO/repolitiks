<div id="search-bar-container" class="container" style="height: 10px;"></div>

<div class="rounded sticky-top">
  <%= form_tag candidatos_path, method: :get, class:"d-flex" do %>
    <div id="search-bar" class="search-bar rounded row px-1 py-1 bg-white justify-content-center align-items-center mx-auto shadow-sm">
      <div class="d-flex flex-column rounded group-pad group-width">
        <small><%= label_tag :nome, nil, class: 'm-0 label-border-pad' %></small>
        <%= text_field_tag :nome, params[:nome], placeholder: "Nomes...", class: 'search-input input-border-pad' %>
      </div>
      <div class="search-middle-border"></div>
      <div class="d-flex flex-column rounded group-pad group-width">
        <small><%= label_tag :cargo, nil, class: 'm-0 label-border-pad' %></small>
        <%= text_field_tag :cargo, params[:cargo], placeholder: "Cargos...", class: 'search-input input-border-pad' %>
      </div>
      <div class="search-middle-border"></div>
      <div class="d-flex flex-column rounded group-pad group-width">
        <small><%= label_tag :partido, nil, class: 'm-0 label-border-pad' %></small>
        <%= text_field_tag :partido, params[:partido], placeholder: "Siglas...", class: 'search-input input-border-pad' %>
      </div>
      <div class="search-middle-border"></div>
      <div class="d-flex flex-column rounded group-pad group-width">
        <small><%= label_tag :estado, nil, class: 'm-0 label-border-pad' %></small>
        <%= select_tag :estado, options_for_select(Candidato::ESTADOS, params[:estado]), prompt: "Todos", class: "search-input select-gray select-border-pad rounded" %>
      </div>
      <div class="search-middle-border"></div>
      <div class="d-flex flex-column rounded group-pad group-width">
        <small><%= label_tag :eleito, "Eleito?", class: 'm-0 label-border-pad' %></small>
        <%= select_tag :eleito, options_for_select(["Sim", "Não"], params[:eleito]), prompt: "Todos", class: "search-input select-gray select-border-pad rounded" %>
      </div>
      <div class="search-btn-margin">
        <%= button_tag(type: "submit", class: "btn btn-dark search-btn-size") do %>
          <i class="fas fa-search"></i>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<div class="container">
  <div>
    <small class="text-muted"><%= pluralize(Candidato.page.total_pages, "página") %>
    - <%= Candidato.count %> candidatos</small>
  </div>
  <div class="d-flex flex-wrap-reverse align-items-center text-center pt-3">
    <h2 class="flex-grow-1 my-0 order-sm-0 px-5">Candidatos</h2>
    <% if user_signed_in? %>
    <%# <div class="text-right position-absolute"> %>
      <div class="order-sm-1 py-2 mx-auto"><%= link_to "Minha página", user_root_path, class: "btn btn-dark" %></div>
    <%# </div> %>
  <% end %>
  </div>
  <div class="pt-4">
    <div class="row">
      <% @candidatos.each do |candidato| %>
        <div class="col-sm-6 col-lg-3 mb-4 d-flex align-items-stretch justify-content-center">
          <%= render "shared/card_candidato", candidato: candidato %>
        </div>
      <% end %>
    </div>
  </div>
  <%= paginate @candidatos %>
  <hr>
  <a href="#">Voltar ao topo</a>
  <br>
  <br>
</div>
